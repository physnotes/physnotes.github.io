% boxed-theorems.tex â€” wrap-only + per-environment colors + light fill
\usepackage[most]{tcolorbox}
\usepackage{xcolor}
\usepackage{etoolbox} % \AtBeginEnvironment

% --- Match your HTML/SCSS palette ---
\definecolor{thm}{HTML}{2F6FFF}   % Theorem (blue)
\definecolor{lem}{HTML}{2CA25F}   % Lemma (green)
\definecolor{cor}{HTML}{C51B8A}   % Corollary (magenta)
\definecolor{prop}{HTML}{E6550D}  % Proposition (orange)
\definecolor{defc}{HTML}{6B5FB5}  % Definition (purple)  ('def' reserved in TeX)
\definecolor{ex}{HTML}{3182BD}    % Example (steel blue)
\definecolor{rem}{HTML}{6B6B6B}   % Remark (gray)

% --- Base style: rounded corners, padding ---
\tcbset{
  enhanced, breakable,
  boxrule=0.5pt,
  arc=2mm,
  coltitle=black,
  left=8pt, right=8pt, top=8pt, bottom=8pt
}

% Defer wrapping until all theorem-like envs are defined by the template
\AtBeginDocument{%
  \AtBeginEnvironment{theorem}{\begin{tcolorbox}[colframe=thm, colback=thm!5]}%
  \AtEndEnvironment{theorem}{\end{tcolorbox}}%

  \AtBeginEnvironment{lemma}{\begin{tcolorbox}[colframe=lem, colback=lem!5]}%
  \AtEndEnvironment{lemma}{\end{tcolorbox}}%

  \AtBeginEnvironment{corollary}{\begin{tcolorbox}[colframe=cor, colback=cor!5]}%
  \AtEndEnvironment{corollary}{\end{tcolorbox}}%

  \AtBeginEnvironment{proposition}{\begin{tcolorbox}[colframe=prop, colback=prop!5]}%
  \AtEndEnvironment{proposition}{\end{tcolorbox}}%

  \AtBeginEnvironment{definition}{\begin{tcolorbox}[colframe=defc, colback=defc!5]}%
  \AtEndEnvironment{definition}{\end{tcolorbox}}%

  \AtBeginEnvironment{example}{\begin{tcolorbox}[colframe=ex, colback=ex!5]}%
  \AtEndEnvironment{example}{\end{tcolorbox}}%

  \AtBeginEnvironment{remark}{\begin{tcolorbox}[colframe=rem, colback=rem!5]}%
  \AtEndEnvironment{remark}{\end{tcolorbox}}%
}
