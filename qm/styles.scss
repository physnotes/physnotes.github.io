/*-- scss:defaults --*/
:root {
  --thm:  #2F6FFF;   /* Theorem (blue) */
  --lem:  #2CA25F;   /* Lemma (green) */
  --cor:  #C51B8A;   /* Corollary (magenta) */
  --prop: #E6550D;   /* Proposition (orange) */
  --def:  #6B5FB5;   /* Definition (purple) */
  --ex:   #3182BD;   /* Example (steel blue) */
  --rem:  #6B6B6B;   /* Remark (gray) */
}

/*-- scss:rules --*/

/* Shared base for all boxes */
.theorem, .lemma, .corollary, .proposition, .definition,
.example, .remark {
  border: 1px solid var(--quarto-border-color);
  border-left-width: 5px;
  border-radius: 5px;
  padding: 0.25rem 0.5rem; /* tighter vertical padding */
  margin: 1rem 0;
}

/* Titles */
.theorem-title, .lemma-title, .corollary-title,
.proposition-title, .definition-title,
.example-title, .remark-title {
  font-weight: 600;
  margin-bottom: .35rem;
  display: block;
}

/* Colors + subtle fills */
.theorem {
  border-left-color: var(--thm);
  background-color: rgba(47, 111, 255, 0.05);
}
.lemma {
  border-left-color: var(--lem);
  background-color: rgba(44, 162, 95, 0.05);
}
.corollary {
  border-left-color: var(--cor);
  background-color: rgba(197, 27, 138, 0.05);
}
.proposition {
  border-left-color: var(--prop);
  background-color: rgba(230, 85, 13, 0.05);
}
.definition {
  border-left-color: var(--def);
  background-color: rgba(107, 95, 181, 0.05);
}
.example {
  border-left-color: var(--ex);
  background-color: rgba(49, 130, 189, 0.05);
}
.remark {
  border-left-color: var(--rem);
  background-color: rgba(107, 107, 107, 0.05);
}

/* --- Collapsible (Example + Remark only) --- */
details.example, details.remark {
  /* inherits the same box styles */
}

summary.example-title, summary.remark-title {
  display: block;
  position: relative;
  cursor: pointer;
  user-select: none;
  margin-bottom: .35rem;
  list-style: none;  /* remove default disclosure marker */
  padding-right: 1.25rem; /* room for chevron */
}

/* remove browser default marker */
summary::-webkit-details-marker { display: none; }
summary::marker { content: ""; }

/* Chevron: Quarto-style (Bootstrap chevron-right SVG) */
summary.example-title::before,
summary.remark-title::before {
  content: "";
  display: inline-block;
  width: 1em;
  height: 1em;
  position: absolute;
  right: .25rem;
  top: 50%;
  transform: translateY(-50%) rotate(0deg); /* closed look */
  transform-origin: 50% 50%;
  transition: transform 200ms ease;
  opacity: 0.85;

  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='currentColor'>\
<path d='M6.646 1.646a.5.5 0 0 1 .708 0l5 5a.5.5 0 0 1 0 .708l-5 5a.5.5 0 0 1-.708-.708L11.293 7 6.646 2.354a.5.5 0 0 1 0-.708z'/>\
</svg>");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 1em 1em;
}

/* When open, chevron points down */
details[open] summary.example-title::before,
details[open] summary.remark-title::before {
  transform: translateY(-50%) rotate(90deg);
}

/* Tighten spacing inside expanded content */
details.example[open] .details-body > :first-child,
details.remark[open]  .details-body > :first-child { margin-top: 0; }
details.example[open] .details-body > :last-child,
details.remark[open]  .details-body > :last-child  { margin-bottom: 0; }

/* Animate the collapsing body (JS sets height inline) */
.details-body { overflow: hidden; }
